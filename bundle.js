(()=>{"use strict";var n={282:(n,e,t)=>{t.d(e,{Z:()=>a});var i=t(81),o=t.n(i),r=t(645),s=t.n(r)()(o());s.push([n.id,"@keyframes landing-animation {\n  from {\n    margin-bottom: 200px;\n  }\n\n  to {\n    margin-bottom: 0;\n  }\n}\n\n@keyframes skeleton-animation {\n  0% {\n    background-position: 0% 50%;\n  }\n  50% {\n    background-position: 100% 50%;\n  }\n  100% {\n    background-position: 0% 50%;\n  }\n}\n",""]);const a=s},71:(n,e,t)=>{t.d(e,{Z:()=>h});var i=t(81),o=t.n(i),r=t(645),s=t.n(r),a=t(667),l=t.n(a),d=new URL(t(611),t.b),c=s()(o()),p=l()(d);c.push([n.id,"* {\n  box-sizing: border-box !important;\n}\n\nbody {\n  padding-top: 72px;\n\n  font-size: 14px;\n  background-color: #222222;\n  color: #fff;\n}\n\na {\n  color: inherit;\n  text-decoration: none;\n}\n\nbutton {\n  cursor: pointer;\n}\n\n#app {\n  padding-bottom: 48px;\n}\n\nheader {\n  position: fixed;\n  z-index: 20;\n  top: 0;\n\n  width: 100%;\n  min-width: 1200px;\n  height: 72px;\n  padding: 0 20px;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.3);\n  box-shadow: 0px 8px 8px rgba(255, 255, 255, 0.2);\n  background-color: #222;\n\n  display: flex;\n  justify-content: center;\n}\n\n.header-container {\n  width: 100%;\n\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.header-container h1 {\n  animation-duration: 1s;\n  animation-name: landing-animation;\n\n  cursor: pointer;\n  user-select: none;\n\n  letter-spacing: -0.1rem;\n  font-size: 2rem;\n  font-weight: bold;\n  color: #f33f3f;\n}\n\n.header-container .search-box {\n  animation-duration: 1s;\n  animation-name: landing-animation;\n\n  height: 44px;\n  padding: 8px 12px;\n  border-radius: 4px;\n\n  display: flex;\n  justify-content: space-between;\n  background: #fff;\n}\n\n.header-container .search-box > input {\n  width: 318px;\n  border: 0;\n  padding: 0;\n}\n\n.header-container .search-box > .search-button {\n  width: 18px;\n  border: 0;\n\n  background: url("+p+") transparent no-repeat 0 1px;\n  background-position: center;\n  background-size: contain;\n\n  text-indent: -1000rem;\n}\n\n*:focus {\n  outline: none;\n}\n.item-view,\n.item-test {\n  width: 100%;\n}\n\n.item-view {\n  width: 1200px;\n  margin: 0 auto;\n  margin-top: 48px;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.item-view h2 {\n  margin-bottom: 48px;\n  font-size: 2rem;\n  font-weight: bold;\n  user-select: none;\n}\n\n.item-view #load-sensor {\n  height: 48px;\n}\n\n/* https://andrew.hedges.name/experiments/aspect_ratio/ */\n\n.item-list {\n  display: grid;\n  grid-template-columns: repeat(4, 210px);\n  grid-column-gap: 120px;\n  grid-row-gap: 48px;\n}\n\n.item-card {\n  display: flex;\n  flex-direction: column;\n}\n\n.item-card:hover {\n  cursor: pointer;\n}\n\n.item-list > :last-child {\n  margin-bottom: 48px;\n}\n\n.item-thumbnail:hover {\n  transform: scale(1.1);\n}\n\n.item-thumbnail {\n  transition: transform 0.5s;\n\n  width: 210px;\n  height: 315px;\n  border-radius: 8px;\n\n  background-size: contain;\n}\n\n.item-title {\n  margin-top: 16px;\n\n  font-size: 1.2rem;\n  font-weight: bold;\n}\n\n.item-score {\n  margin-top: 16px;\n\n  font-size: 1.2rem;\n}\n\n.item-score::after {\n  margin-left: 8px;\n}\n\n.item-title.skeleton::after,\n.item-score.skeleton::after {\n  content: 'loading';\n\n  font-size: 0;\n}\n\n.full-width {\n  width: 100%;\n}\n\n.last-item {\n  margin-top: 48px;\n}\n\nbutton.btn {\n  height: 30px;\n  border: 0;\n  border-radius: 8px;\n\n  color: #fff;\n}\n\nbutton.primary {\n  background: #f33f3f;\n}\n\n.item-card .skeleton {\n  border-radius: 8px;\n}\n\n.error-view {\n  width: 1200px;\n  margin: 0 auto;\n}\n\n.error-view h1 {\n  margin: 24px 0;\n\n  font-size: 2rem;\n}\n\n.error-view p {\n  margin-bottom: 12px;\n\n  font-size: 1.25rem;\n}\n\n.error-view p::before {\n  content: '☑️ ';\n}\n\n.modal {\n  position: fixed;\n  z-index: 30;\n  top: 0;\n  overflow: hidden;\n\n  width: 100%;\n  height: 100%;\n\n  background-color: rgba(0, 0, 0, 0.6);\n}\n\n.box {\n  position: absolute;\n  z-index: 30;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  width: 826px;\n  height: 580px;\n  border-radius: 8px;\n  background: #212122;\n\n  color: #f1f1f1;\n}\n\n.box .head {\n  position: relative;\n\n  height: 60px;\n  padding: 0 32px;\n  border-bottom: 1px solid rgba(241, 241, 241, 0.25);\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.box .head h1 {\n  font-weight: 600;\n  font-size: 20px;\n}\n\n.box .head #close {\n  position: absolute;\n  right: 18px;\n\n  width: 36px;\n  height: 36px;\n  border: none;\n  padding: 0;\n  border-radius: 50%;\n  background: #383839;\n\n  font-size: 16px;\n  color: #f0f0f0;\n}\n\n.box .body {\n  padding: 48px 32px;\n\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.box .poster {\n  width: 280px;\n  height: 420px;\n}\n\n.box .detail {\n  width: 438px;\n  height: 420px;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n\n.box .detail .description {\n  overflow: scroll;\n}\n\n.box .detail .description > p {\n  margin-bottom: 16px;\n\n  line-height: 24px;\n  letter-spacing: 0.5px;\n  font-weight: 400;\n  font-size: 16px;\n}\n\n.box .detail .description > p span {\n  margin-left: 18px;\n}\n\n.box .detail .vote-area {\n  height: 64px;\n  padding: 16px;\n  border-radius: 16px;\n\n  display: flex;\n  align-items: center;\n  align-content: center;\n  background: #383839;\n\n  font-weight: 700;\n  font-size: 16px;\n}\n\n.box .detail .vote-area .star-area {\n  margin-left: 14px;\n}\n\n.box .detail .vote-area .star:hover {\n  cursor: pointer;\n}\n\n.box .detail .vote-area .star + .star {\n  margin-left: 4px;\n}\n\n.box .detail .vote-area .vote-message {\n  margin-left: 14px;\n\n  font-weight: 400;\n  font-size: 16px;\n  color: #f1f1f1;\n}\n\n.message {\n  font-size: 20px;\n}\n",""]);const h=c},538:(n,e,t)=>{t.d(e,{Z:()=>a});var i=t(81),o=t.n(i),r=t(645),s=t.n(r)()(o());s.push([n.id,"/* http://meyerweb.com/eric/tools/css/reset/\n   v2.0 | 20110126\n   License: none (public domain)\n*/\n\nhtml,\nbody,\ndiv,\nspan,\napplet,\nobject,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\nblockquote,\npre,\na,\nabbr,\nacronym,\naddress,\nbig,\ncite,\ncode,\ndel,\ndfn,\nem,\nimg,\nins,\nkbd,\nq,\ns,\nsamp,\nsmall,\nstrike,\nstrong,\nsub,\nsup,\ntt,\nvar,\nb,\nu,\ni,\ncenter,\ndl,\ndt,\ndd,\nol,\nul,\nli,\nfieldset,\nform,\nlabel,\nlegend,\ntable,\ncaption,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd,\narticle,\naside,\ncanvas,\ndetails,\nembed,\nfigure,\nfigcaption,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\noutput,\nruby,\nsection,\nsummary,\ntime,\nmark,\naudio,\nvideo {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection {\n  display: block;\n}\nbody {\n  line-height: 1;\n}\nol,\nul {\n  list-style: none;\n}\nblockquote,\nq {\n  quotes: none;\n}\nblockquote:before,\nblockquote:after,\nq:before,\nq:after {\n  content: '';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n",""]);const a=s},583:(n,e,t)=>{t.d(e,{Z:()=>a});var i=t(81),o=t.n(i),r=t(645),s=t.n(r)()(o());s.push([n.id,"@media (min-width: 700px) and (max-width: 1199px) {\n  header {\n    min-width: 700px;\n  }\n\n  .item-view {\n    width: 700px;\n  }\n\n  .item-list {\n    grid-template-columns: repeat(3, 180px);\n    grid-column-gap: 80px;\n  }\n\n  .item-list .item-thumbnail {\n    width: 180px;\n    height: 270px;\n  }\n\n  .box {\n    width: 740px;\n    height: 550px;\n  }\n\n  .box .poster {\n    width: 260px;\n    height: 390px;\n  }\n\n  .box .detail {\n    width: 384px;\n    height: 390px;\n  }\n\n  .box .detail .vote-area .vote-description {\n    font-size: 14px;\n  }\n}\n\n@media (max-width: 699px) {\n  header {\n    min-width: 340px;\n  }\n\n  .header-container {\n    position: relative;\n\n    width: 340px;\n    min-width: 340px;\n  }\n\n  .header-container h1 {\n    position: absolute;\n    left: 0;\n  }\n\n  .header-container .search-box {\n    position: absolute;\n    right: 0;\n  }\n\n  .header-container .search-box input {\n    transition: width 1s;\n\n    width: 0;\n  }\n\n  .header-container .search-box:hover input {\n    width: 298px;\n  }\n\n  .header-container .search-box input:focus {\n    width: 298px;\n  }\n\n  .item-view {\n    width: 340px;\n  }\n\n  .item-list {\n    grid-template-columns: repeat(2, 140px);\n    grid-column-gap: 60px;\n  }\n\n  .item-list .item-thumbnail {\n    width: 140px;\n    height: 210px;\n  }\n\n  .box {\n    top: 100%;\n    transform: translate(-50%, -100%);\n\n    width: 100%;\n    height: 480px;\n  }\n\n  .box .head {\n    justify-content: left;\n  }\n\n  .box .body {\n    height: 420px;\n\n    justify-content: center;\n  }\n\n  .box .poster {\n    display: none;\n  }\n\n  .box .detail {\n    height: 324px;\n  }\n\n  .box .detail .vote-area .vote-message {\n    display: none;\n  }\n}\n",""]);const a=s},978:(n,e,t)=>{t.d(e,{Z:()=>a});var i=t(81),o=t.n(i),r=t(645),s=t.n(r)()(o());s.push([n.id,"body.fix {\n  overflow: hidden;\n}\n\n.hide {\n  display: none;\n}\n\n.skeleton {\n  animation: skeleton-animation 5s infinite ease-out;\n  background: linear-gradient(-90deg, #aaa, #f0f0f0, #aaa, #f0f0f0);\n  background-size: 400%;\n}\n",""]);const a=s},645:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",i=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),i&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),i&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,i,o,r){"string"==typeof n&&(n=[[null,n,void 0]]);var s={};if(i)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(s[l]=!0)}for(var d=0;d<n.length;d++){var c=[].concat(n[d]);i&&s[c[0]]||(void 0!==r&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=r),t&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=t):c[2]=t),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),e.push(c))}},e}},667:n=>{n.exports=function(n,e){return e||(e={}),n?(n=String(n.__esModule?n.default:n),/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),e.hash&&(n+=e.hash),/["'() \t\n]|(%20)/.test(n)||e.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n):n}},81:n=>{n.exports=function(n){return n[1]}},379:n=>{var e=[];function t(n){for(var t=-1,i=0;i<e.length;i++)if(e[i].identifier===n){t=i;break}return t}function i(n,i){for(var r={},s=[],a=0;a<n.length;a++){var l=n[a],d=i.base?l[0]+i.base:l[0],c=r[d]||0,p="".concat(d," ").concat(c);r[d]=c+1;var h=t(p),u={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)e[h].references++,e[h].updater(u);else{var m=o(u,i);i.byIndex=a,e.splice(a,0,{identifier:p,updater:m,references:1})}s.push(p)}return s}function o(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,o){var r=i(n=n||[],o=o||{});return function(n){n=n||[];for(var s=0;s<r.length;s++){var a=t(r[s]);e[a].references--}for(var l=i(n,o),d=0;d<r.length;d++){var c=t(r[d]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}r=l}}},569:n=>{var e={};n.exports=function(n,t){var i=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}},216:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},565:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},795:n=>{n.exports=function(n){var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var i="";t.supports&&(i+="@supports (".concat(t.supports,") {")),t.media&&(i+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(i+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),i+=t.css,o&&(i+="}"),t.media&&(i+="}"),t.supports&&(i+="}");var r=t.sourceMap;r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(i,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},589:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},611:(n,e,t)=>{n.exports=t.p+"f1bd4269f4446ceae306.png"}},e={};function t(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={id:i,exports:{}};return n[i](r,r.exports,t),r.exports}t.m=n,t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var i in e)t.o(e,i)&&!t.o(n,i)&&Object.defineProperty(n,i,{enumerable:!0,get:e[i]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),(()=>{var n;t.g.importScripts&&(n=t.g.location+"");var e=t.g.document;if(!n&&e&&(e.currentScript&&(n=e.currentScript.src),!n)){var i=e.getElementsByTagName("script");i.length&&(n=i[i.length-1].src)}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=n})(),t.b=document.baseURI||self.location.href,t.nc=void 0,(()=>{var n=t(379),e=t.n(n),i=t(795),o=t.n(i),r=t(569),s=t.n(r),a=t(565),l=t.n(a),d=t(216),c=t.n(d),p=t(589),h=t.n(p),u=t(538),m={};m.styleTagTransform=h(),m.setAttributes=l(),m.insert=s().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=c(),e()(u.Z,m),u.Z&&u.Z.locals&&u.Z.locals;var g=t(282),v={};v.styleTagTransform=h(),v.setAttributes=l(),v.insert=s().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=c(),e()(g.Z,v),g.Z&&g.Z.locals&&g.Z.locals;var f=t(71),b={};b.styleTagTransform=h(),b.setAttributes=l(),b.insert=s().bind(null,"head"),b.domAPI=o(),b.insertStyleElement=c(),e()(f.Z,b),f.Z&&f.Z.locals&&f.Z.locals;var x=t(978),y={};y.styleTagTransform=h(),y.setAttributes=l(),y.insert=s().bind(null,"head"),y.domAPI=o(),y.insertStyleElement=c(),e()(x.Z,y),x.Z&&x.Z.locals&&x.Z.locals;var w=t(583),L={};L.styleTagTransform=h(),L.setAttributes=l(),L.insert=s().bind(null,"head"),L.domAPI=o(),L.insertStyleElement=c(),e()(w.Z,L),w.Z&&w.Z.locals&&w.Z.locals;const C=t.p+"2e162b4fefb34cd7ed8d.png",k=(n,e,t=null)=>{n.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:t}))},M=n=>document.querySelector(n);class S extends HTMLElement{constructor(){super(),this.onSubmitSearchForm=n=>{if(n.preventDefault(),!(n.target instanceof HTMLFormElement))return;const[e]=n.target;e instanceof HTMLInputElement&&k(this,"search",{query:e.value})},this.onClickLogo=()=>{k(this,"home")},this.render()}render(){this.innerHTML=`\n      <header>\n        <div class="header-container">\n          <h1 id="logo">\n            <img src="${C}" alt="MovieList 로고" />\n          </h1>\n          <form id="search-form" class="search-box">\n            <input id="search-input" type="text" placeholder="검색" required />\n            <button class="search-button">검색</button>\n          </form>\n        </div>\n      </header>\n    `}connectedCallback(){var n,e;null===(n=this.querySelector("#search-form"))||void 0===n||n.addEventListener("submit",this.onSubmitSearchForm),null===(e=this.querySelector("#logo"))||void 0===e||e.addEventListener("click",this.onClickLogo)}}const $=S;class E extends HTMLElement{constructor(){super(),this.render()}render(){const n=this.getAttribute("title");this.innerHTML=`\n      <section class="item-view">\n        <h2 id="movie-list-title">${n}</h2>\n        <ul class="item-list"></ul>\n        <ul class="item-list" id="skeleton-list">\n          ${"<skeleton-list-item></skeleton-list-item>".repeat(16)}\n        </ul>\n        <div id="load-sensor"></div>\n      </section>\n    `}connectedCallback(){const n=this.querySelector("#load-sensor");var e;n&&(e=()=>k(this,"loadMore"),new IntersectionObserver((n=>{n.forEach((({isIntersecting:n})=>{n&&e()}))}),{rootMargin:"0px 0px 500px 0px"})).observe(n)}}const T=E,A=t.p+"9f8d716f03770d21e7b7.png",j='\n<svg width="16" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path\n    d="M13.6354 15.9664C13.5003 15.9663 13.3673 15.9335 13.2476 15.8707L9 13.6377L4.75236 15.8707C4.61471 15.9431 4.45957 15.9755 4.30448 15.9643C4.14938 15.953 4.00052 15.8987 3.87471 15.8073C3.7489 15.7159 3.65117 15.5911 3.59256 15.4471C3.53395 15.3031 3.5168 15.1455 3.54305 14.9922L4.35441 10.2624L0.918136 6.91324C0.806817 6.80467 0.728084 6.66713 0.690835 6.51616C0.653587 6.36519 0.659307 6.20681 0.707349 6.05892C0.755392 5.91103 0.843841 5.77953 0.962702 5.67927C1.08156 5.57901 1.2261 5.514 1.37997 5.49158L6.12891 4.80147L8.2525 0.498419C8.32925 0.368462 8.43856 0.260763 8.56964 0.185945C8.70072 0.111127 8.84905 0.0717773 8.99998 0.0717773C9.15091 0.0717773 9.29923 0.111127 9.43031 0.185945C9.56139 0.260763 9.6707 0.368462 9.74745 0.498419L11.8711 4.80139L16.62 5.4915C16.7739 5.51392 16.9184 5.57894 17.0373 5.6792C17.1561 5.77945 17.2446 5.91096 17.2926 6.05885C17.3407 6.20674 17.3464 6.36512 17.3091 6.51609C17.2719 6.66706 17.1932 6.8046 17.0818 6.91317L13.6456 10.2623L14.4569 14.9922C14.4774 15.1118 14.4716 15.2344 14.4397 15.3516C14.4079 15.4687 14.3509 15.5774 14.2726 15.6702C14.1944 15.763 14.0968 15.8376 13.9867 15.8887C13.8767 15.9399 13.7568 15.9663 13.6354 15.9663L13.6354 15.9664Z"\n    fill="#FFC700"\n  />\n</svg>\n';class H extends HTMLElement{constructor(){super(),this.onLoad=()=>{var n;null===(n=this.querySelector(".item-thumbnail"))||void 0===n||n.classList.remove("skeleton")},this.onClick=()=>{k(this,"clickItem",{id:Number(this.getAttribute("id"))})},this.render()}render(){const n=this.getAttribute("poster-path");this.innerHTML=`\n      <li id="${this.getAttribute("id")}">\n        <div class="item-card">\n          <img\n            class="item-thumbnail skeleton"\n            src=${"null"===n?A:`https://image.tmdb.org/t/p/w500${n}`}\n            loading="lazy"\n            alt="${this.getAttribute("title")}"\n          />\n          <p class="item-title">\n            ${this.getAttribute("title")}\n          </p>\n          <p class="item-score">\n            ${j}\n            ${this.getAttribute("vote-average")}\n          </p>\n        </div>\n      </li>\n    `}connectedCallback(){var n;null===(n=this.querySelector(".item-thumbnail"))||void 0===n||n.addEventListener("load",this.onLoad),this.addEventListener("click",this.onClick)}}const Z=H;class q extends HTMLElement{constructor(){super(),this.render()}render(){this.innerHTML='\n      <li>\n        <div class="item-card">\n          <div class="item-thumbnail skeleton"></div>\n          <div class="item-title skeleton"></div>\n          <div class="item-score skeleton"></div>\n        </div>\n      </li>\n    '}}const P=q,z="지금 인기 있는 영화",N={0:"",2:"2 최악이에요",4:"4 별로예요",6:"6 보통이에요",8:"8 재미있어요",10:"10 명작이에요"},I={401:["인증되지 않았어요","만약 로그인이 풀렸다면 다시 인증해주세요"],403:["페이지에 접근할 권한이 없어요"],404:["페이지를 찾을 수 없어요","예전에 있었지만 사라진 페이지일 수도 있어요"],500:["서버에 문제가 생겼어요","나중에 다시 시도해 주세요","해결되지 않으면 개발자에게 연락해주세요"],503:["나중에 다시 방문해주세요"]};class _ extends HTMLElement{constructor(){super(),this.render()}render(){var n;const e=Number(this.getAttribute("status-code")),t=null!==(n=I[e])&&void 0!==n?n:["나중에 다시 시도해주세요"];this.innerHTML=`\n      <section class="error-view">\n        <h1>페이지를 가져오지 못했어요 😢</h1>\n        ${t.map((n=>`<p>${n}</p>`)).join("")}\n      </section>\n    `}}const O=_,F=n=>{var e;return null===(e=M(n))||void 0===e?void 0:e.classList.add("hide")},V=n=>{var e;return null===(e=M(n))||void 0===e?void 0:e.classList.remove("hide")},R=n=>{const e=M("#page");e&&(e.innerHTML=`<error-page status-code="${n}"></error-page>`)};class K extends HTMLElement{constructor(){super(),this.onKeyDown=n=>{n instanceof KeyboardEvent&&["Escape","Backspace"].includes(n.key)&&this.close()},this.onClick=n=>{const e=M(".box");e instanceof HTMLElement&&this.contains(n.target)&&!e.contains(n.target)&&this.close()},this.close=()=>{F(".modal"),document.body.classList.remove("fix")},this.onLoad=()=>{var n;null===(n=this.querySelector(".poster"))||void 0===n||n.classList.remove("skeleton")},this.render()}render(){const n=this.getAttribute("id"),e=this.getAttribute("poster-path");this.innerHTML=`\n      <div class="modal hide">\n        <div class="box" id="${n}">\n          <section class="head">\n            <h1>${this.getAttribute("title")}</h1>\n            <button id="close">✕</button>\n          </section>\n          <section class="body">\n            <img \n              class="poster skeleton" \n              src=${"null"===e?A:`https://image.tmdb.org/t/p/original${e}`}\n            />\n            <div class="detail">\n              <div class="description">\n                <p>\n                  ${this.getAttribute("genreString")}\n                  <span>${j}</span>\n                  ${this.getAttribute("vote-average")}\n                </p>\n                <p>\n                  ${this.getAttribute("overview")}\n                </p>\n              </div>\n              <vote-area \n                id="${n}" \n                my-vote="${this.getAttribute("my-vote")}"\n              ></vote-area>\n            </div>\n          </section>\n        </div>\n      </div>\n    `}connectedCallback(){var n,e;document.addEventListener("keydown",this.onKeyDown),this.addEventListener("click",this.onClick),null===(n=this.querySelector("#close"))||void 0===n||n.addEventListener("click",this.close),null===(e=this.querySelector(".poster"))||void 0===e||e.addEventListener("load",this.onLoad)}}const Q=K;class U extends HTMLElement{constructor(){super(),this.onClickStar=n=>{n.currentTarget instanceof HTMLSpanElement&&k(this,"vote",{id:this.getAttribute("id"),myVote:n.currentTarget.getAttribute("voteUnit")})},this.render()}render(){var n;const e=null!==(n=Number(this.getAttribute("my-vote")))&&void 0!==n?n:0;this.innerHTML=`\n      <div class="vote-area">\n        내 별점\n        <div class="star-area">\n          ${[2,4,6,8,10].map((n=>`\n                <span class="star" voteUnit="${n}">\n                  ${e>=n?'\n<svg width="28" height="26" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path\n    d="M13.6354 15.9664C13.5003 15.9663 13.3673 15.9335 13.2476 15.8707L9 13.6377L4.75236 15.8707C4.61471 15.9431 4.45957 15.9755 4.30448 15.9643C4.14938 15.953 4.00052 15.8987 3.87471 15.8073C3.7489 15.7159 3.65117 15.5911 3.59256 15.4471C3.53395 15.3031 3.5168 15.1455 3.54305 14.9922L4.35441 10.2624L0.918136 6.91324C0.806817 6.80467 0.728084 6.66713 0.690835 6.51616C0.653587 6.36519 0.659307 6.20681 0.707349 6.05892C0.755392 5.91103 0.843841 5.77953 0.962702 5.67927C1.08156 5.57901 1.2261 5.514 1.37997 5.49158L6.12891 4.80147L8.2525 0.498419C8.32925 0.368462 8.43856 0.260763 8.56964 0.185945C8.70072 0.111127 8.84905 0.0717773 8.99998 0.0717773C9.15091 0.0717773 9.29923 0.111127 9.43031 0.185945C9.56139 0.260763 9.6707 0.368462 9.74745 0.498419L11.8711 4.80139L16.62 5.4915C16.7739 5.51392 16.9184 5.57894 17.0373 5.6792C17.1561 5.77945 17.2446 5.91096 17.2926 6.05885C17.3407 6.20674 17.3464 6.36512 17.3091 6.51609C17.2719 6.66706 17.1932 6.8046 17.0818 6.91317L13.6456 10.2623L14.4569 14.9922C14.4774 15.1118 14.4716 15.2344 14.4397 15.3516C14.4079 15.4687 14.3509 15.5774 14.2726 15.6702C14.1944 15.763 14.0968 15.8376 13.9867 15.8887C13.8767 15.9399 13.7568 15.9663 13.6354 15.9663L13.6354 15.9664Z"\n    fill="#FFC700"\n  />\n</svg>\n':'\n  <svg width="28" height="26" viewBox="0 0 28 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21.4167 25.746C21.2005 25.7459 20.9876 25.6934 20.7962 25.593L14 22.0201L7.20378 25.593C6.98354 25.7088 6.73532 25.7606 6.48717 25.7427C6.23901 25.7247 6.00083 25.6377 5.79953 25.4915C5.59824 25.3453 5.44187 25.1456 5.34809 24.9152C5.25432 24.6847 5.22688 24.4326 5.26888 24.1874L6.56706 16.6197L1.06902 11.261C0.890907 11.0873 0.764935 10.8673 0.705337 10.6257C0.645739 10.3842 0.654891 10.1308 0.731759 9.89413C0.808627 9.6575 0.950146 9.4471 1.14032 9.28668C1.3305 9.12627 1.56175 9.02225 1.80795 8.98638L9.40626 7.8822L12.804 0.997323C12.9268 0.789393 13.1017 0.617074 13.3114 0.497366C13.5212 0.377657 13.7585 0.314697 14 0.314697C14.2415 0.314697 14.4788 0.377657 14.6885 0.497366C14.8982 0.617074 15.0731 0.789393 15.1959 0.997323L18.5937 7.88208L26.192 8.98626C26.4382 9.02213 26.6695 9.12615 26.8596 9.28657C27.0498 9.44698 27.1913 9.65738 27.2682 9.89401C27.3451 10.1306 27.3542 10.384 27.2946 10.6256C27.235 10.8671 27.1091 11.0872 26.9309 11.2609L21.4329 16.6196L22.7311 24.1873C22.7639 24.3787 22.7545 24.575 22.7036 24.7623C22.6526 24.9497 22.5614 25.1237 22.4362 25.2722C22.311 25.4207 22.1549 25.54 21.9788 25.6218C21.8027 25.7036 21.6108 25.746 21.4166 25.746L21.4167 25.746Z" fill="#888888"/>\n  </svg>\n'}\n                </span>\n              `)).join("")}\n        </div>\n        <span class="vote-message">\n          ${N[e]}\n        </span>\n      </div>\n    `}connectedCallback(){var n;null===(n=this.querySelectorAll(".star"))||void 0===n||n.forEach((n=>{n.addEventListener("click",this.onClickStar)}))}}const B=U,D=class{constructor(n){this.genreMap=n.reduce(((n,{id:e,name:t})=>Object.assign(Object.assign({},n),{[e]:t})),{}),this.movies=[]}generateMovies(n){return n.map((({id:n,title:e,poster_path:t,vote_average:i,genre_ids:o,overview:r})=>({id:n,title:e,posterPath:t,voteAverage:i.toFixed(1),genreString:this.generateGenreString(o),overview:r})))}generateGenreString(n){return n.map((n=>this.genreMap[n])).join(", ")}concatMovies(n){this.movies=[...this.movies,...n]}resetMovies(){this.movies=[]}findMovie(n){return this.movies.find((e=>e.id===n))}};var J=function(n,e,t,i){return new(t||(t=Promise))((function(o,r){function s(n){try{l(i.next(n))}catch(n){r(n)}}function a(n){try{l(i.throw(n))}catch(n){r(n)}}function l(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(s,a)}l((i=i.apply(n,e||[])).next())}))};const G="dfa513748d6ffb795fa0bb81313c43c4",W="https://api.themoviedb.org/3",Y=n=>J(void 0,void 0,void 0,(function*(){const e=yield fetch(`${W}/movie/popular?api_key=${G}&language=ko-KR&page=${n.page}`);return e.ok?e.json():Promise.reject(e)})),X=n=>J(void 0,void 0,void 0,(function*(){const e=yield fetch(`${W}/search/movie?api_key=${G}&language=ko-KR&query=${n.query}&page=${n.page}`);return e.ok?e.json():Promise.reject(e)}));var nn=function(n,e,t,i){return new(t||(t=Promise))((function(o,r){function s(n){try{l(i.next(n))}catch(n){r(n)}}function a(n){try{l(i.throw(n))}catch(n){r(n)}}function l(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(s,a)}l((i=i.apply(n,e||[])).next())}))};customElements.define("movie-header",$),customElements.define("movie-page",T),customElements.define("movie-list-item",Z),customElements.define("skeleton-list-item",P),customElements.define("error-page",O),customElements.define("movie-detail",Q),customElements.define("vote-area",B),new class{constructor(){this.onOffline=()=>{R(400)},this.onHome=()=>{this.state.pageCategory="home",this.initMoviePage(z),this.updateMoviePage(Y,{page:this.state.pageNumber}),(()=>{const n=M(".search-box");n instanceof HTMLFormElement&&n.reset()})()},this.onSearch=n=>{this.state.pageCategory="search",this.state.searchQuery=n.detail.query,this.initMoviePage(`"${this.state.searchQuery}" 검색 결과`),this.updateMoviePage(X,{query:this.state.searchQuery,page:this.state.pageNumber})},this.onLoadMore=()=>{"home"===this.state.pageCategory?this.updateMoviePage(Y,{page:this.state.pageNumber}):this.updateMoviePage(X,{query:this.state.searchQuery,page:this.state.pageNumber})},this.onClickItem=n=>{var e;const{id:t}=n.detail,i=this.movieService.findMovie(t),o=null!==(e=this.voteMapStorage.getValue()[t])&&void 0!==e?e:0;i&&((n,e)=>{const t=M("movie-detail");if(!t)return;const{id:i,title:o,posterPath:r,voteAverage:s,genreString:a,overview:l}=n;t.outerHTML=`\n    <movie-detail\n      id="${i}"\n      title="${o}"\n      poster-path="${r}"\n      vote-average="${s}"\n      genreString="${a}"\n      overview="${l}"\n      my-vote="${e}"\n    ></movie-detail>\n  `})(i,o),V(".modal"),document.body.classList.add("fix")},this.onVote=n=>{const{id:e,myVote:t}=n.detail;this.voteMapStorage.setValue(Object.assign(Object.assign({},this.voteMapStorage.getValue()),{[e]:t})),((n,e)=>{const t=M(".vote-area");t&&(t.outerHTML=`<vote-area id="${n}" my-vote="${e}"></vote-area>`)})(e,t)},this.voteMapStorage=new class{constructor(n,e){this.key=n,this.defaultValue=e}getValue(){const n=localStorage.getItem(this.key);return n?JSON.parse(n):this.defaultValue}setValue(n){localStorage.setItem(this.key,JSON.stringify(n))}}("voteMap",{}),this.movieService=new D([]),this.state={pageNumber:1,pageCategory:"home",searchQuery:"",loading:!1},this.init()}init(){return nn(this,void 0,void 0,(function*(){window.addEventListener("offline",this.onOffline),window.addEventListener("online",this.onHome),document.body.addEventListener("home",this.onHome),document.body.addEventListener("search",this.onSearch),document.body.addEventListener("loadMore",this.onLoadMore),document.body.addEventListener("clickItem",this.onClickItem),document.body.addEventListener("vote",this.onVote);const{genres:n}=yield J(void 0,void 0,void 0,(function*(){const n=yield fetch(`${W}/genre/movie/list?api_key=${G}&language=ko-KR);`);return n.ok?n.json():Promise.reject(n)}));this.movieService=new D(n),this.initMoviePage(z),this.updateMoviePage(Y,{page:this.state.pageNumber})}))}initMoviePage(n){window.scrollTo({top:0}),this.state.pageNumber=1,this.movieService.resetMovies(),(n=>{const e=M("#page");e&&(e.innerHTML=`<movie-page title='${n}'></movie-page>`)})(n)}updateMoviePage(n,e){return nn(this,void 0,void 0,(function*(){if(!this.state.loading)try{const{results:t,total_pages:i}=yield this.apiWithSkeleton(n)(e);(this.state.pageNumber>=i||this.state.pageNumber>=500)&&F("#load-sensor"),this.state.pageNumber+=1,this.handleNewMovies(this.movieService.generateMovies(t))}catch(n){n instanceof Response&&R(n.status)}}))}apiWithSkeleton(n){return e=>nn(this,void 0,void 0,(function*(){V("#skeleton-list"),this.state.loading=!0;const{results:t,total_pages:i}=yield n(e);return F("#skeleton-list"),this.state.loading=!1,{results:t,total_pages:i}}))}handleNewMovies(n){if("search"===this.state.pageCategory&&0===n.length)return void(()=>{const n=M(".item-list");n&&(n.innerHTML='\n    <p class="message">검색 결과가 없습니다.</p>\n  ')})();this.movieService.concatMovies(n);const e=window.scrollY;(n=>{const e=M(".item-list");e&&e.insertAdjacentHTML("beforeend",n.map((({id:n,title:e,posterPath:t,voteAverage:i})=>`\n          <movie-list-item \n            id="${n}"\n            title="${e}" \n            poster-path="${t}" \n            vote-average="${i}"\n          ></movie-list-item>\n        `)).join(""))})(n),window.scrollTo({top:e})}}})()})();